# 데이터 관리 및 볼륨 작업
## docker data 종류
## 애플레케이션 데이터 (code + environment)
* 개발자가 설정하고 작성한 코드 패키지
* 이 코드와 환경이 빌드 단계에서 이미지에 추가됨(Dockerfile 사용)
* 컨테이너 실행시 컨테이너는 제공된 환경에서 코드 사용함.
* 이미지가 복사되면 코드와 이와 관련된 모든 것들은 고정됨(이미지 변경 불가:read-only)
* 변경 발생시 새이미지를 빌드해야 함.

## 애플리케이션이 실행되는 동안 생성된 데이터
* ex) 사용자 요청 폼 데이터, 변수에 저장되는 임시데이터
* 메모리에만 저장되는 일시적인 데이터(컨테이너 종료시 사라지는 데이터)
* 컨테이너가 실행되는 동안 컨테이너에 저장되는 일시적인 read+write 를 하는 데이터.
* 컨테이너에 저장된다는 것은 컨테이너를 구성하는 부가(extra)레이어를 이용함
* 부가레이어 로직 : 이미지 인식, 이미지 파일시스템 인식하고 복사하지않고 미러링하는 로직
* 도커는 실제로 read-write 액세스 권한을 가짐 = 파일의 시스템을 조작 가능
* 이미지에서 변경하지 않고 부가레이어에서 변경함.
* 도커는 컨테이너의 변경사항을 추적하고 이미지의 파일시스템을 가져와 최종 파일시스템을 파생시켜 read-write 레이어에 저장된 변경사항과 결합시킴
* 컨테이너에 데이터를 저장하라고 하면 컨테이너는 이 정보를 저장하며 파일이 무엇이든 간에 이 read-write 레이어에 저장하거나 그 read-write 레이어의 도움을 받아 저장함

## 영구 애플리케이션 데이터
* DB, 파일에 저장되어야 하는 데이터
* 실행중인 컨테이너에서 그 데이터를 가져와 생성
* = 컨테이너에서 실행중인 애플리케이션 내의 데이터는 저장되어야 함
* 컨테이너가 중지, 다시시작, 제거 되더라도 데이터는 생존해야함
* 영구 앱데이터는 read+write 데이터임
* = 이러한 데이터를 컨테이너에 저장하지만 볼륨을 이용해야함

---



